{"version":3,"sources":["common.jsx"],"names":[],"mappings":"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","file":"common.js","sourcesContent":["const Tabpane = React.createClass({\r\n    render(){\r\n        return;\r\n    }\r\n});\r\n\r\nconst Tabnav = React.createClass({\r\n    onClick(){\r\n        this.props.tabClick(this.props.tab_id);\r\n    },\r\n    render(){\r\n        return(\r\n            <div className={this.props.class} onClick={this.onClick}>{this.props.tab}</div>\r\n        );\r\n    }\r\n});\r\n\r\nconst Tabs = React.createClass({\r\n    getInitialState(){\r\n        let live = React.Children.map(this.props.children,function(val){\r\n            return false;\r\n        });\r\n        return({now_tab: 0, live: live});\r\n    },\r\n    tabClick(n){\r\n        this.setState({now_tab: n});\r\n    },\r\n\r\n    render(){\r\n        let [tab_navs,tab_contents] = [[],[]];\r\n        let children = this.props.children;\r\n        let now_tab = this.state.now_tab;\r\n        let live = this.state.live;\r\n\r\n        React.Children.forEach(children,function(val,n){\r\n            let tab_class = \"tab-nav\";\r\n            let list_class = \"tab-tabpane tab-tabpane-hidden\";\r\n            let aria_hidden = \"false\";\r\n            if(now_tab == n){\r\n                tab_class = \"tab-nav tab-selected\";\r\n                list_class = \"tab-tabpane\";\r\n                aria_hidden = \"true\";\r\n            }\r\n            if(now_tab == n)live[n] = true;\r\n            tab_navs.push(<Tabnav {...val.props} tab_id={n} tabClick={this.tabClick} class={tab_class} now_tab={now_tab} />);\r\n\r\n            if(live[n])tab_contents.push(<div aria-hidden={aria_hidden} className={list_class}>{val.props.children}</div>);\r\n\r\n        }.bind(this));\r\n\r\n        return(\r\n            <div className=\"tab\">\r\n                <div className=\"tab-list\">\r\n                    {tab_navs}\r\n                </div>\r\n                <div className=\"tab-content\">\r\n                    {tab_contents}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n});\r\n\r\nconst Red_envelope = React.createClass({\r\n    render(){\r\n\r\n        let list = this.props.relist.map(function(d){\r\n            let tip = \"\";\r\n            switch(d.state){\r\n                case 0:\r\n                    tip = \"立即使用\";\r\n                    break;\r\n                case 1:\r\n                    tip = \"已使用\";\r\n                    break;\r\n                case 2:\r\n                    tip = \"已过期\";\r\n                    break;\r\n            }\r\n            return(\r\n                <li>\r\n                    <div className=\"re-detail\">\r\n                        <div className=\"re-title\"><h4>{d.name}</h4><span>{typeof(d.explain)!='undefined'?'（'+d.explain+'）':''}</span></div>\r\n                        <div className=\"re-content\"><div className=\"l\">{d.money}</div><div className=\"r\"><h3>{d.type}</h3><h5>有效期:{d.deadline}</h5></div></div>\r\n                    </div>\r\n                    {d.state==0?<a href=\"javascript:void(0);\"><div className=\"re-tip\">{tip}</div></a>:<div className=\"re-tip\">{tip}</div>}\r\n                </li>\r\n            );\r\n        });\r\n        return <div className=\"red-envelope-content\"><ul>{list}</ul></div>;\r\n    }\r\n});\r\n\r\n// const Redata = [\r\n//     {tab: \"未使用\" , list:[\r\n//         {state: 0, name: \"衣成天品专场红包\", explain: \"仅限品牌专场使用\", money: 30, type: \"红包\", deadline: \"2016-06-01至2016-06-10\"},\r\n//         {state: 0, name: \"衣成天品专场红包\", explain: \"仅限品牌专场使用\", money: 40, type: \"红包\", deadline: \"2016-06-01至2016-06-10\"}\r\n//     ]},\r\n//     {tab: \"已使用\" , list:[\r\n//         {state: 1, name: \"世纪天成专场红包\", explain: \"仅限品牌专场使用\", money: 50, type: \"红包\", deadline: \"2016-04-08至2016-04-10\"}\r\n//     ]},\r\n//     {tab: \"已过期\" , list:[\r\n//         {state: 2, name: \"西山居专场红包\", explain: \"仅限品牌专场使用\", money: 100, type: \"红包\", deadline: \"2016-04-08至2016-04-10\"}\r\n//     ]}\r\n// ];\r\n\r\nconst Re_box = React.createClass({\r\n    getInitialState(){\r\n        return({\r\n            redata: this.dealData(data_info)\r\n        });\r\n    },\r\n    dealData(data){\r\n        let redata = [\r\n            {tab: \"未使用\", list: []},\r\n            {tab: \"已使用\", list: []},\r\n            {tab: \"已过期\", list: []}\r\n        ];\r\n        console.log(data);\r\n        data.forEach(function(val){\r\n            let d = {state: 0, name: val.name, money: val.money, type: \"红包\", deadline: \"\"};\r\n            let start = parseInt(val.get_time)*1000;\r\n            let end = parseInt(val.expire)*1000;\r\n            d.deadline = this.time2Date(start) + '至' + this.time2Date(end);\r\n            //判断未使用\r\n            if(parseInt(val.use_status)){\r\n                //已使用\r\n                redata[1].list.push(d);\r\n                d.state = 1;\r\n            }else{\r\n                //未使用\r\n                d.state = 0;\r\n\r\n                // 判断是否过期\r\n                if(Date.parse(new Date())>end){\r\n                    //已过期\r\n                    d.state = 2;\r\n                    redata[2].list.push(d);\r\n                }else{\r\n                    redata[0].list.push(d);\r\n                }\r\n            }\r\n\r\n        }.bind(this));\r\n        return redata;\r\n    },\r\n    time2Date(time){\r\n        let date = new Date(time);\r\n        let m = date.getMonth()+1;\r\n        m = m.length == 1 ? '0' + m : m;\r\n        let d = date.getDate();\r\n        d = d.length == 1 ? '0' + d : d;\r\n        return date.getFullYear()+'-'+m+'-'+d;\r\n    },\r\n    render(){\r\n        let tabpanes = this.state.redata.map(function(val){\r\n            return(\r\n                <Tabpane tab={val.tab}>\r\n                    <Red_envelope relist={val.list} />\r\n                </Tabpane>\r\n            );\r\n        });\r\n        return(\r\n            <Tabs>\r\n                {tabpanes}\r\n            </Tabs>\r\n        );\r\n    }\r\n});\r\n\r\nconst Re_tabs = document.getElementById('re_tabs');\r\nif(Re_tabs!==null){\r\n    ReactDOM.render(\r\n        <Re_box />,\r\n        Re_tabs\r\n    );\r\n}\r\n\r\n// const Ccdata = [\r\n//     {tab: \"未使用\" , list:[\r\n//         {state: 0, name: \"满200元使用\", money: 30, type: \"优惠券\", deadline: \"2016-06-01至2016-06-10\"},\r\n//         {state: 0, name: \"满100元使用\", money: 40, type: \"优惠券\", deadline: \"2016-06-01至2016-06-10\"}\r\n//     ]},\r\n//     {tab: \"已使用\" , list:[\r\n//         {state: 1, name: \"满50元使用\", money: 50, type: \"优惠券\", deadline: \"2016-04-08至2016-04-10\"}\r\n//     ]},\r\n//     {tab: \"已过期\" , list:[\r\n//         {state: 2, name: \"满300元使用\", money: 100, type: \"优惠券\", deadline: \"2016-04-08至2016-04-10\"}\r\n//     ]}\r\n// ];\r\n\r\nconst Cc_tabs = document.getElementById('cc_tabs');\r\nif(Cc_tabs!==null){\r\n    ReactDOM.render(\r\n        <Re_box />,\r\n        Cc_tabs\r\n    );\r\n}\r\n\r\n"]}