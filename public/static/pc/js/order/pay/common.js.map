{"version":3,"sources":["common.jsx"],"names":[],"mappings":"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","file":"common.js","sourcesContent":["const { Modal } = antd;\r\nconst Pay = React.createClass({\r\n    getInitialState(){\r\n        return({\r\n            other_pay_type: 0,\r\n            pay_confirm_modal: false\r\n        });\r\n    },\r\n    jump_order_detail(){\r\n        window.location.href = getBaseUrl() + '/mengwu/user/order';\r\n    },\r\n    onChangePayType(type){\r\n        this.setState({other_pay_type: type});\r\n    },\r\n    confirmPay(){\r\n        let form = $('<form></form>');\r\n        let action = getBaseUrl() + '/mengwu/order/jump2Pay';\r\n        form.attr({action:action,method:'post',target:'_blank'});\r\n        let info_input = $('<input type=\"text\" name=\"pay_info\" />');\r\n        info_input.attr('value',JSON.stringify(pay_info));\r\n        let type_input = $('<input type=\"text\" name=\"pay_type\" />');\r\n        type_input.attr('value',this.state.other_pay_type);\r\n        form.append(info_input,type_input);\r\n        $('body').append(form);\r\n        form.submit().remove();\r\n        this.setState({pay_confirm_modal: true});\r\n    },\r\n    render(){\r\n        const total_price = pay_info.total_price ? pay_info.total_price : 'error';\r\n        const pay_type = ['zhifubao','weixin','caifutong'];\r\n        const pay_type_input = pay_type.map((val,index)=>\r\n            <div className=\"other-type-group\"><label className={val!='zhifubao' ? 'disabled' : null}><input type=\"radio\" name=\"other-pay\" checked={this.state.other_pay_type==index?'checked':null} disabled={val!='zhifubao' ? 'disabled' : null} onChange={()=>this.onChangePayType(index)} /><div className={val}></div></label></div>\r\n        );\r\n        return(\r\n            <div className=\"pay-order\">\r\n                <div className=\"pay-type\">\r\n                    <div className=\"caption\">\r\n                        选择支付方式支付<em>{total_price}</em>元\r\n                    </div>\r\n                    <div className=\"type\">\r\n                        <div className=\"detail\">\r\n                            {pay_type_input}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Modal title=\"确认支付\" visible={this.state.pay_confirm_modal} okText=\"已支付\" cancelText=\"支付遇到问题\" onCancel={this.jump_order_detail} closable={false} style={{top: 300}} onOk={this.jump_order_detail}>\r\n                    <p>请在新打开的页面中完成支付</p>\r\n                </Modal>\r\n                <div className=\"oper-btn clear text-right\">\r\n                    <a href=\"javascript:void(0);\" className=\"btn btn-confirm\" onClick={this.confirmPay}>确认支付</a>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n});\r\n\r\nReactDOM.render(\r\n    <Pay/>,\r\n    document.getElementById('order_pay')\r\n);"]}